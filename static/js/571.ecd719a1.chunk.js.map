{"version":3,"file":"static/js/571.ecd719a1.chunk.js","mappings":"iRAsDA,EAjDmB,WAAO,IAAD,EACjBA,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAU,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAEhDC,EAAAA,EAAAA,YAAU,WACR,GAAIF,EAAY,CACd,IAAMG,EAAW,mCAAG,8GAESC,EAAAA,EAAAA,IAAUJ,GAFnB,QAEVK,EAFU,QAGAC,QACdV,GAAY,GAEdF,EAAgBW,GANA,gDAQhBE,QAAQC,IAAI,KAAMC,SARF,yDAAH,qDAWjBN,GACD,CACF,GAAE,CAACH,IAYJ,OAFAO,QAAQC,IAAI,gBAAiBlB,IAG3B,iCACE,kBAAMoB,SAZgB,SAAAC,GACxBA,EAAMC,iBACNb,EAAgB,CACdc,MAAOF,EAAMG,OAAOC,SAASF,MAAMG,MAAMC,gBAE3CN,EAAMG,OAAOI,OACd,EAMG,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQC,WAAS,KACzC,mBAAQF,KAAK,SAAb,uBAED1B,EAAaa,QAAUN,GACtB,SAACsB,EAAA,EAAD,CAAYC,OAAQ9B,EAAc+B,MAAOlC,IAEzCK,IAAY,4CAAoBK,EAApB,SAInB,C","sources":["pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import { useLocation, useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getSearch } from '../../services/api';\nimport MoviesList from '../../components/MoviesList';\n\nconst MoviesPage = () => {\n  const location = useLocation();\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [notFound, setNotFound] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const queryParam = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (queryParam) {\n      const fetchSearch = async () => {\n        try {\n          const searchData = await getSearch(queryParam);\n          if (!searchData.length) {\n            setNotFound(true);\n          }\n          setSearchMovies(searchData);\n        } catch (error) {\n          console.log(error.message);\n        }\n      };\n      fetchSearch();\n    }\n  }, [queryParam]);\n\n  const handleSubmitClick = event => {\n    event.preventDefault();\n    setSearchParams({\n      query: event.target.elements.query.value.toLowerCase(),\n    });\n    event.target.reset();\n  };\n\n  console.log('location :>> ', location);\n\n  return (\n    <>\n      <form onSubmit={handleSubmitClick}>\n        <input type=\"text\" name=\"query\" autoFocus />\n        <button type=\"submit\">Search</button>\n      </form>\n      {searchMovies.length && queryParam ? (\n        <MoviesList movies={searchMovies} state={location} />\n      ) : (\n        notFound && <p>Could not find \"{queryParam}\"</p>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["location","useLocation","useState","searchMovies","setSearchMovies","notFound","setNotFound","useSearchParams","searchParams","setSearchParams","queryParam","get","useEffect","fetchSearch","getSearch","searchData","length","console","log","message","onSubmit","event","preventDefault","query","target","elements","value","toLowerCase","reset","type","name","autoFocus","MoviesList","movies","state"],"sourceRoot":""}